$axis: (left, right);
$accent: (var(--c-accent-1), var(--c-accent-2), var(--c-accent-3));

.u-img-accent {
    @for $x from 1 through 2 {
        &--#{nth($axis, $x)} {
            @for $i from 1 through 3 {
                &--#{$i} {
                    border-color: nth($accent, $i);
                    display: inline-block;
                    position: relative;
                
                    * {
                        position: relative;
                        z-index: 1;
                    }
                
                    &:before {
                        position: absolute;
                        content:"";
                        display: block;
                        height: 0;
                        z-index: -1;
                        border-radius: 100%;
                        width: 70%;
                        padding-bottom: 70%;
                        bottom: -20%;

                        @include breakpoint_m {
                            width: 304px;
                            padding-bottom: 304px;
                            bottom: -60px;
                        }

                        @if (nth($axis, $x) == right) { 
                            background: repeating-linear-gradient(-45deg,
                            nth($accent, $i),
                            nth($accent, $i) $unit_xxs,
                            transparent $unit_xxs,
                            transparent $unit_s);
                        }

                        @else {
                            background: repeating-linear-gradient(45deg,
                            nth($accent, $i),
                            nth($accent, $i) $unit_xxs,
                            transparent $unit_xxs,
                            transparent $unit_s);
                        }
                    }

                    @if (nth($axis, $x) == right) { 
                        box-shadow: $unit_xs $unit_xs nth($accent, $i);

                        &:before {
                            right: -20%;

                            @include breakpoint_m {
                                right: -60px;
                            }
                        }
                    }

                    @else {
                        box-shadow: -#{$unit_xs} $unit_xs nth($accent, $i);

                        &:before {
                            left: -20%;

                            @include breakpoint_m {
                                left: -60px;
                            }
                        }


                        // mobile right
                        &--m-r {
                            box-shadow: $unit_xs $unit_xs nth($accent, $i);
    
                            &:before {
                                left: auto;
                                right: -20%;
                            }
    
                            @include breakpoint_m {
                                box-shadow: -#{$unit_xs} $unit_xs nth($accent, $i);
        
                                &:before {
                                    right: auto;
                                    left: -60px;
                                }
                            }
                        }
                    }
                }
    
            }
        }
    }
}

@mixin accentContent($accent, $axis) {
    position: relative;
  
    &:before {
        @if ($axis == right) {
            box-shadow: #{$unit_xxs} $unit_xxs $accent;
        } @else {
            box-shadow: -#{$unit_xxs} $unit_xxs $accent;
        }
        display: block;
        content: "";
        position: absolute;
        bottom: 0;
        #{$axis}: 0;
        width: 40%;
        height: 40%;
        z-index: -1;
    } 
}